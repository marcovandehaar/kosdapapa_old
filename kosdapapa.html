<!DOCTYPE html>
<html>
<head>
  <title>Lynn and Evi's Piggy Bank</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    
    <style>
        body {
          font-family: 'Comic Sans MS', cursive, sans-serif;
          background-color: #f2f2f2; /* Default light grey background color */
          margin: 0;
          padding: 0;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 100vh;
        }

        #lynnSection {
          background-color: #FFE5CC; /* Light shade of orange for Lynn */
        }

        #eviSection {
          background-color: #e6f5ff; /* Light shade of blue for Evi */
        }

        .container {
          background-color: inherit; /* Use the background color of the parent section */
          padding: 20px;
          border-radius: 5px;
        }
      
        header {
          background-color: #f8f8f8; /* Update the background color of the header */
          padding: 10px;
          text-align: center;
        }

        button {
          font-family: 'Comic Sans MS', cursive, sans-serif;
          font-size: 18px;
          background-color: #FFD700; /* Bright and light yellow color for buttons */
          border: none;
          color: #333;
          padding: 10px 20px;
          margin: 0 5px;
          cursor: pointer;
          transition: background-color 0.3s;
          border-radius: 20px; /* Rounded border for buttons */
        }

        button:hover {
          background-color: #FFEC8B; /* Lighter shade of yellow on hover */
        }
      
        main {
          padding: 20px;
          text-align: center;
        }
      
        h2 {
          font-size: 28px;
          color: #333;
          margin-bottom: 20px;
        }
      
        h4 {
          font-size: 18px;
          color: #333;
        }
      
      
        input[type="number"] {
          font-family: 'Comic Sans MS', cursive, sans-serif;
          font-size: 16px;
          padding: 10px;
          width: 100%;
          border: 1px solid #ccc;
          border-radius: 5px;
          margin-bottom: 10px;
          box-sizing: border-box;
        }
      
        .btn-primary {
          background-color: #f76c6c;
          color: #fff;
          font-size: 18px;
          padding: 10px 20px;
          border: none;
          cursor: pointer;
          transition: background-color 0.3s;
        }
      
        .btn-primary:hover {
          background-color: #e45b5b;
        }
      
        #lynnSection .savings-fill {
        background-color: #ff0000; /* Bright, vibrant red for Lynn */
      }

      #eviSection .savings-fill {
        background-color: #0000ff; /* Cute shade of bright blue for Evi */
      }

        .savings-bar {
        display: flex;
        height: 50px;
        margin-bottom: 10px;
        border-radius: 10px;
        overflow: hidden; /* Ensure rounded corners are visible */
        position: relative;
      }

      .savings-fill {
        height: 100%;
        background-color: #1f78b4; /* Adjust the color as desired */
        transition: width 0.3s ease-in-out;
      }

      .savings-remainder {
        height: 100%;
        background-color: #7FFF7F; /* Adjust the color as desired */
        width: 0%;
        transition: width 0.3s ease-in-out;
      }

      .header-text {
      font-family: 'Comic Sans MS', cursive, sans-serif;
      font-size: 20px;
      color: #ba43b4; /* Vivid color for the header text */
      margin-bottom: 10px;
    }

    .result-message {
      font-family: 'Comic Sans MS', cursive, sans-serif;
      font-size: 18px;
      margin-top: 10px;
      padding: 10px;
      border-radius: 5px;
    }

    .result-message.success {
      background-color: #7FFF7F; /* Green background color for success message */
      color: #fff;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3); /* Add a slight shadow effect */
    }

    .result-message.failure {
      background-color: #FF7F7F; /* Red background color for failure message */
      color: #fff;
    }

    p.savings-text {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 10px;
      color: #333333;
    }

      </style>
      
      
      <script>
        $(document).ready(function() {
          // Function to update savings bar
          function updateSavingsBar(savingsInput, savingsBar, color, price = 0, canAfford = true) {
            var savings = parseInt($(savingsInput).val());
            var difference = savings - price;
            var fillPercentage = (price / savings) * 100;
            var remainderPercentage = (savings - price) / savings * 100;
            
            console.log("Spaargeld:" + savings);
            console.log("price:" + price);
            console.log("percentage:" + fillPercentage);
            console.log($(savingsBar).find(".savings-fill"));

            $(savingsBar).find(".savings-fill").css({
              "width": `${fillPercentage}%`
            });
            
            $(savingsBar).find(".savings-remainder").css({
              "width": `${remainderPercentage}%`
            });
        }

            // Function to display the child's information
          function displayChildInfo(child) {
            $("#lynnSection").hide();
            $("#eviSection").hide();
            $(`#${child.name.toLowerCase()}Section`).show();

            const $childSection = $(`#${child.name.toLowerCase()}Section`);
            $childSection.css("background-color", child.favoriteColor);
            $childSection.find("h2").text(child.name);
            $childSection.find("img").attr("src", child.gifLink);
          }

      
   // Load children data from JSON
   $.getJSON("children.json", function(data) {
      const children = data.children;

      for (const child of children) {
        const $button = $("<button>")
          .text(child.name)
          .click(function() {
            displayChildInfo(child);
          });

        $("header").append($button);

        // Create sections for each child
        const $section = $("<section>")
          .attr("id", `${child.name.toLowerCase()}Section`)
          .css("display", "none");

        const $container = $("<div>").addClass("container");
        const $row = $("<div>").addClass("row");
        const $col1 = $("<div>").addClass("col-md-6");
        const $col2 = $("<div>").addClass("col-md-6");

        const $savingsText = $("<p>")
          .addClass("savings-text")
          .text("Spaargeld: ");

        const $savingsInput = $("<input>")
          .attr("type", "number")
          .attr("id", `${child.name.toLowerCase()}Savings`)
          .addClass("savings-input")
          .on("input", function() {
            const savingsInputValue = parseInt($(this).val());
            const $savingsBar = $(`#${child.name.toLowerCase()}Bar`);
            updateSavingsBar($savingsInputValue, $savingsBar, child.favoriteColor);
          });

        const $savingsBar = $("<div>")
          .attr("id", `${child.name.toLowerCase()}Bar`)
          .addClass("savings-bar");

        $col1.append($savingsText);
        $col1.append($savingsInput);
        $col2.append($savingsBar);
        $row.append($col1);
        $row.append($col2);
        $container.append($row);
        $section.append($container);
        $("#main").append($section);
      }

      // Show the first child's information by default
      displayChildInfo(children[0]);
    });
  });
      </script>
      
      
      
      
</head>
<body>
  <header>
    <h4 class="header-text">Voor wie wil je de spaarpot zien?</h4>
    <button id="lynnButton">Lynn</button>
    <button id="eviButton">Evi</button>
  </header>
  

  <main>
    <section id="childrenSection" style="display: none;">
      <h2 id="childName"></h2>
      <div class="container">
        <div class="row">
          <div class="col-md-6">
            <p class="savings-text">Spaargeld: <input type="number" id="childSavings" value="0"></p>
            <div class="savings-bar" id="childSavingsBar">
              <div class="savings-fill"></div>
              <div class="savings-remainder"></div>
            </div>
            <input type="number" id="childPrice" placeholder="Hoeveel kost het?">
            <button id="childBuyBtn" class="btn btn-primary">Check of je dit kunt kopen</button>
            <div id="childResult" class="result-message"></div>
          </div>
          <div class="col-md-6">
            <img id="childGif" alt="Child's GIF" style="width: 100%;">
          </div>
        </div>
      </div>
    </section>
    
      
      
  </main>
</body>
</html>
